# 搭建个人博客

## 背景

​	很多个人网站是在netlify上host的，通过github直接把网站代码自动导入到netlify上进行编译和发布，实现自动化内容发布。而Netlify的免费版本只提供一个<site_name>.netlify.app的二级域名，其中site_name可以任意选择，只要未重名就可以。今天这篇文章是介绍如何把自有域名绑定到netlify到网站里，以及实现图床的上传。

## 准备工具

- Typora

- PicGo

- GitHub

- Node.js

- Docsify

- Netlify

- Cloudflare

- 一个自己的域名

## Typora

> **Typora**是一款由Abner Lee开发的轻量级Markdown编辑器与其他Markdown编辑器不同的是，Typora没有采用源代码和预览双栏显示的方式，而是采用所见即所得的编辑方式，实现了即时预览的功能，但也可切换至源代码编辑模式。

### 下载Typora

> [!NOTE]
>
> 我使用的 Typora 版本是 1.9.5，下载后可享受 15 天的免费试用。

- [Typora 官方网站](https://typora.io/)

![image-20241013005955644](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241013005955644.png)

- [Typora 官方中文站 ](https://typoraio.cn/)

![image-20241013010039804](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241013010039804.png)

### 设置Typora

​	为了更好地使用 Typora，我们还需要对其进行一些相应的设置

​	在 Markdown 中，插入图片的格式一般为 `![](https://url.url)`。为了方便管理图片，我们可以先将图片保存到本地。在 Typora 中，可以通过以下步骤进行设置：依次点击 ‘文件’ -> ‘偏好设置’ -> ‘图像’，选择‘复制图片到 ./assets 文件夹’，这样图片就会自动保存到当前文件夹下的 ./assets 目录中。

![image-20241013011523342](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241013011523342.png)

​	如果你只是需要一个本地知识库，Typora 已经完全能满足你的需求，下面的内容可以忽略。

​	但是，如果你希望将知识库部署到线上，那么你将面临一个问题：图片应该放在哪里？这时，图床可能是一个不错的选择。



## 图床

​	当图片量增大时，网络上的图片通常通过 URL 直接引用，这意味着它们存储在服务器上。图床就是专门用于存储图片的工具，但市面上有很多选择，该如何决定呢？

​	经过综合对比，我最终选择了 **GitHub 图床**，尽管国内访问稍慢，但通过镜像加速后依然是最适合我的免费选择。

### Github

#### 创建仓库

​	在使用 GitHub 图床之前，我们需要先在 GitHub 上创建一个仓库存储图片，以便进行图片的上传和下载操作。

​	首先，登录或注册 GitHub 账户。在右上角点击加号，选择 “New repository”。

![image-20241013013500846](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241013013500846.png)

接下来，输入仓库名称，我这里使用 “Imag” 作为名字。Description（可选）栏可以填写仓库的描述，如果不需要可以跳过。然后选择 “Public” 作为仓库的可见性。根据需要，决定是否添加 README 文件，这里我不添加。最后，点击 “Create repository” 即可完成创建。

![image-20241013013421880](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241013013421880.png)

#### 获取 设定 Token 

​	在 GitHub 主页依次点击`Settings`-> 滑到最下方选择`Developer settings`

![image-20241013013808191](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241013013808191.png)

​	依次选择`Personal access tokens`->`Tokens (classic)`，然后点击`Generate new token`。

![image-20241013013913588](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241013013913588.png)

​	填写名称，这里我用Image，更具需求选择时效,我这里选最长的过期时间（可以选择永久），在`Select scopes`中勾选`repo`

![image-20241013014318996](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241013014318996.png)

​	最后翻到页面最下面，点击`Generate token`生成一个新的 Token。

![image-20241013014934718](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241013014934718.png)

Token 只会显示一次，记得要保存下来，

![image-20241013015044010](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241013015044010.png)

至此，GitHub 的配置就完成了。接下来，我们将开始配置 PicGo。

------

### Pic Go

#### 下载Pic GO

首先我们要下载PicGo

> [!NOTE]
>
> 我使用的 Pic Go 版本是 2.3.0-beta.8。

-  [国内镜像](https://gitcode.com/gh_mirrors/pi/PicGo/tags?presetConfig={"tags":59,"release":0})
-  [GitHUb仓库](https://github.com/Molunerfinn/PicGo/releases)

#### 设置Pic GO

​	打开 PicGo，依次选择 “图床设置” -> “GitHub”，然后点击 “设为默认图床” 按钮。

![image-20241013020241103](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241013020241103.png)

​	点击右上角的编辑按钮

![image-20241013020644782](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241013020644782.png)

然后填写内容

> - **图床配置名**	       自己去一个合适的名字
> - **设定仓库名**               用户名/仓库名
> - **设定分支**                   main(如果不行就试试master)
> - **设定存储路径**           可以不填,填了会在你项目下创建一个文件夹，图片将会储存在此文件夹中
> - **设定自定义域名**        可以不填,但国内访问GitHub速度会很慢,这里有两种加速方式
>   - **使用 jsDelivr 加速**：设置为 `https://cdn.jsdelivr.net/gh/用户名/项目名`。上传完毕后，通过 `https://cdn.jsdelivr.net/gh/用户名/项目名/图片名` 访问图片。
>   - **使用镜像加速**：设置为 `https://mirror.ghproxy.com/https://raw.githubusercontent.com/用户名/项目名/master/`。

![image-20241013021113365](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241013021113365.png)

​	最后，点击“确认”按钮即可保存设置。保存后，进入上传区，选择 GitHub 图床并上传一张图片进行测试。如果进度条显示红色，表示上传失败；蓝色则表示上传成功。

![image-20241013022232010](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241013022232010.png)

​	上传完成后，您可以在 “相册” 中查看刚刚上传的图片。同样，点击编辑按钮即可查看上传地址，这个地址就是图片在 GitHub 仓库中的路径。

![image-20241013022326876](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241013022326876.png)

​	此外，您也可以在 GitHub 仓库中找到这张图片。

![image-20241013022602772](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241013022602772.png)

![image-20241013022636228](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241013022636228.png)



####  将PicGo 集成到 Typora

​	PicGo 图床设置完成后，我们还需要在 Typora 中进行配置。依次点击 **文件** -> **偏好设置** -> **图像**，在页面底部找到 **上传服务设定**，选择 `PicGo(app)`，并设置为你的 PicGo 安装路径。最后，点击 **验证图片上传选项**，确保上传功能正常。

![image-20241013023112394](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241013023112394.png)

​	如果出现以下错误，说明你的 PicGo 路径填写有误：

![image-20241013023618941](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241013023618941.png)

​	此时，只需将路径填写正确：

![image-20241013023757097](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241013023757097.png)

​	然后再次点击 **验证图片上传选项** 进行测试。如下图所示，验证成功：

![image-20241013023901565](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241013023901565.png)

​	现在，每次在文档中插入图片时，Typora 会自动将图片上传到图床，并返回一个 URL 插入到文档中，十分方便。

![image-20241013025218765](./assets/image-20241013025218765.png)

![image-20241013025350643](./assets/image-20241013025350643.png)![image-20241013025400263](./assets/image-20241013025400263.png)

​	你也可以通过右键选择 **上传图片**。

![image-20241013024810178](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241013024810178.png)

​	此外，还可以在文档中依次选择 **格式** -> **图像** -> **上传所有本地图片**，一键上传文档中的所有图片到图床。

![image-20241013025035255](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241013025035255.png)

​	至此，你的本地知识库基本搭建完成，后续添加内容将变得非常简单和轻松。



## 博客搭建

### Docsify

> ​	Docsify 是一个**轻量级的文档生成工具**，可以将 Markdown 文件直接转换为文档网站。与其他静态网站生成器不同，Docsify 不生成静态 HTML 文件，而是在页面加载时动态渲染 Markdown 文件。这使得 Docsify 适合创建项目的文档站点，且不需要构建过程。

- [docsify官方文档](https://docsify.js.org/#/zh-cn/)

#### 安装

> [!WARNING]
>
> docsify 安装需要依赖 node.js，所以要确保自己的电脑上有node.js,`CTRL+R`打开`CMD`窗口,使用命令`node -v`查看版本,如果没有请按教程先安装和配置node.js环境
>
> ![image-20241013040314610](./assets/image-20241013040314610.png)

​	准备好 node.js 环境后，在CMD窗口中使用 npm 一键安装：

```bash
npm i docsify-cli -g
```

![image-20241013050916660](./assets/image-20241013050916660.png)

​	安装完成后，会返回全局安装目录的路径，默认情况下为 `C:\Users\<YourUsername>\AppData\Roaming\npm`。如果不希望放在 C 盘的话，建议将其移动到其他位置。

​	你可以修改 npm 的全局安装位置。首先，新建一个目录，然后在路径框中输入 `CMD`，打开终端并配置 npm 使用命令设置新的目录：![image-20241013042843495](./assets/image-20241013042843495.png)

```bash
npm config set prefix G:\tools\npm-global
```

​	此时，你会在新目录下看到多了一个 `node_modules` 文件夹，可执行文件也会位于当前目录下：

![image-20241013045123387](./assets/image-20241013045123387.png)

​	如果发现文件夹中没有文件，可以使用 `npm root -g` 命令查看当前全局安装的包位置。确保路径设置正确后，再重新进行安装。

![image-20241013045310224](./assets/image-20241013045310224.png)

​	为了使系统能够识别 `docsify` 命令，你还需要将新的路径添加到系统环境变量中。具体步骤如下：

1. 打开 Windows 搜索框，输入“环境变量”。
2. 点击“编辑系统环境变量”。
3. 在“系统属性”窗口中，点击“环境变量”。
4. 在“系统变量”中找到 **Path**，然后点击“编辑”。
5. 添加新的路径 `G:\tools\npm-global`。

![image-20241013043731694](./assets/image-20241013043731694.png)



#### 启动

安装完成后，启动知识库只需在**当前知识库文件夹下**执行以下命令：![image-20241013052206200](./assets/image-20241013052206200.png)

```bash
docsify init 
```

如果文件夹下已存在文件，选择 **yes** 将会初始化三个文件，其中 `index.html` 是最终渲染的初始网页：

![image-20241013052811820](./assets/image-20241013052811820.png)

接下来，使用一键命令完成部署，将生成一个 3000 端口的网址。恭喜你，你的本地网站已经初始化完成：

```bash
docsify serve
```

![image-20241013052838282](./assets/image-20241013052838282.png)

按住 `CTRL` 并点击网址即可打开你的本地网站：![image-20241013051520549](./assets/image-20241013051520549.png)



#### 开始写文档

初始化成功后，你会看到目录下创建的几个文件：

- `index.html`：入口文件
- `README.md`：作为主页内容渲染
- `.nojekyll`：用于阻止 GitHub Pages 忽略以下划线开头的文件

直接编辑 `README.md` 即可更新文档内容，当然你也可以[添加更多页面](https://docsify.js.org/#/zh-cn/more-pages)。

具体操作,可以看官方文档或别人的博客



#### 连接远程仓库

​	本地测试没问题后，接下来需要将项目托管到云端。因为知识库会不断更新，建议使用 Git 来维护一个远程仓库。首先，需要配置好 Git 环境。



**创建远程仓库**

​	首先，建立一个远程仓库。

> [!WARNING]
>
> 请确保将仓库的访问权限设置为 Public，因为只有公开仓库才能部署到 GitHub Pages。

![image-20241013064644163](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241013064644163.png)

**本地初始化 Git 仓库**

​	在项目文件夹的空白处右击，然后选择 **Git Bash**：	

![image-20241013064923139](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241013064923139.png)



​	然后输入以下指令，初始化本地仓库并提交代码：

```bash
git init
git add .
git commit -m 'first commit'
```

​	此时，你会在文件夹中看到一个 `.git` 文件夹：

![image-20241013065317030](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241013065317030.png)

**推送到远程仓库**

​	接下来，将本地仓库推送到远程仓库：

```bash
git remote add origin https://github.com/wwwqqqzzz/Docsify_Blog.git
git branch -M main
git push -u origin main
```

![image-20241013070117248](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241013070117248.png)



## 网站部署

### Netlify搭建

> [!TIP]
>
> GitHub 远程仓库有了之后，我们就要选择一个工具将网站部署上线。都有哪些选择呢？
>
> **公有云主机 / VPS**：需购买域名和服务器，费用较高。
>
> **GitHub/GitLab Pages**：适合静态网站，免费但国内访问速度较慢。
>
> **Netlify/Zeabur 等托管平台**：有免费额度，支持自定义域名，适合小型静态网站。

> [Netify官网](https://www.netlify.com/)
>
> Netlify 是一个**全栈应用和静态网站的托管平台**，提供从代码到部署的一站式服务。它的目标是简化网站和应用的开发、部署和管理，特别适合静态网站生成器（如 Jekyll、Hugo、Gatsby 等）以及前后端分离的项目（如基于 React、Vue.js 等框架的应用）。
>
> > [!IMPORTANT]
> >
> > 对于简单的知识库或文档站点，Netlify 提供了免费的托管和持续集成支持，非常适合个人项目。免费额度包括：
> >
> > - **300 分钟每月的构建时长**（静态网页，无需计算）。
> > - **100 GB 每月的流量**（通常足够简单网站的访问需求）。

​	**注册账号** 后，选择 **新建项目**，从 GitHub 引入已有的仓库。

![image-20241013073951391](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241013073951391.png)

![image-20241013074014487](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241013074014487.png)

![image-20241013074146374](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241013074146374.png)





​	在 Netlify 的 **搜索框** 中找到你的 GitHub 仓库，然后点击导入。

![image-20241013074250894](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241013074250894.png)

​	然后点击 **Deploy**。

![image-20241013074309107](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241013074309107.png)

​	当你看到如下页面时，说明部署成功：

![image-20241013074356109](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241013074356109.png)

访问地址（国内 IP 可访问）：https://genuine-bavarois-d7251b.netlify.app/#/



### 购买域名

购买域名的网站有很多,选择一个自己喜欢的

这里我用[name](https://www.name.com/zh-cn/)做演示

进入官网买一个自己喜欢的域名,我就用,这里我是用`.xyz`做演示(xyz最便宜)

首先先登陆进去,然后搜索可用的域名,接着加入购物车,最后点击右上角的购物车图标

![image-20241013080333553](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241013080333553.png)

点击Next就可以去付款了

![image-20241013080518913](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241013080518913.png)

选择你的付款方式后,同意协议,就可以完成订单了

![image-20241013080743784](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241013080743784.png)



### Cloud flare

首先去cloud flare的官网,登陆后点击 网站 ,然后在输入现有域中输入你的域名,输入完成后点击继续

![image-20241014032348555](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241014032348555.png)

根据自己的能力选一个计划,这里我用Free计划,选择并继续

![image-20241014032604454](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241014032604454.png)

完成后会跳转到首页,可以看到我们的域名化石处于待处理的名称服务器更新,运维我们还未在 Cloudflare 上激活,我们点击域名进入设置

![image-20241014033002685](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241014033002685.png)

可以看到cloud flare已经为我们分配好了两个服务器

![image-20241014033207510](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241014033207510.png)

现在我们回到[name](https://www.name.com/zh-cn/),点击我的域,再点击记得域名

![image-20241014034136931](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241014034136931.png)

我们找到管理域名服务器

![image-20241014034215905](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241014034215905.png)

将刚刚cloud flare分配的两个服务器添加给域名,并保存更改

![image-20241014034629720](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241014034629720.png)



![image-20241014034634669](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241014034634669.png)



![image-20241014051253462](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241014051253462.png)



![image-20241014054858359](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241014054858359.png)



![image-20241014065218980](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241014065218980.png)



![image-20241014065308464](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241014065308464.png)



![image-20241014065532747](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241014065532747.png)



![image-20241014065720293](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241014065720293.png)



![image-20241014070800342](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241014070800342.png)



![image-20241014071020634](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241014071020634.png)









































































