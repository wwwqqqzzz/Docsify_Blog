# JavaScript

---

## 一、JavaScript 简介

1. **JavaScript 概述**  
   JavaScript（JS）是一种由网景公司开发的客户端脚本语言，可直接运行而无需编译。它构成了Web前端的三层架构之一：  
   - **结构层**：HTML，用于定义页面结构
   - **样式层**：CSS，用于定义页面样式
   - **行为层**：JavaScript，用于实现交互效果和提升用户体验

2. **JavaScript 的作用**  
   - 动态操作页面内容
   - 数据校验
   - 发送异步请求

## 二、引用方式

1. **内联方式**：在`<script>`标签中直接编写JS代码
2. **行内方式**：在HTML标签中编写JS代码，一般结合事件属性使用（如`onclick`）
3. **外部文件**：将代码写在独立的`.js`文件中，再通过`<script src="path/to/file.js">`引用

## 三、基本用法

1. **变量**：通过`var`关键字声明变量，JS为弱类型语言，不需指定变量类型。
2. **输入和输出**：  
   - `alert()` 弹出警告框  
   - `console.log()` 输出到控制台  
   - `prompt()` 获取用户输入数据
3. **转义符**：如`\n`表示换行、`\t`表示缩进等。
4. **注释**：单行注释 `//`，多行注释 `/* ... */`
5. **编码规范**：区分大小写，每条语句以分号结尾

#### 四、核心语法

1. **数据类型**  
   - 基础类型：`string`、`number`、`boolean`、`null`、`undefined`
   - 转换方法：使用`Number()`、`String()`、`Boolean()`等进行类型转换

2. **运算符**  
   - 算术运算符：如`+`、`-`、`*`、`/`等
   - 比较运算符：如`<`、`>`、`==`等
   - 逻辑运算符：如`&&`、`||`、`!`

3. **控制结构**  
   - 条件语句：`if...else`、`switch`
   - 循环语句：`while`、`do...while`、`for`、`for...in`、`for...of`

4. **数组**  
   - 定义：`var arr = [];` 或 `var arr = new Array();`
   - 常用方法：`reverse()`、`join()`、`slice()`等
   - | 方法                | 描述                                                         |
     | ------------------- | ------------------------------------------------------------ |
     | `reverse()`         | 反转，将数组元素倒序排列                                     |
     | `join(separator)`   | 将数组中元素使用指定的分隔符连接成字符串，默认通过逗号进行连接 |
     | `indexOf()`         | 返回指定元素在数组中首次出现的位置                           |
     | `slice(begin, end)` | 截取数组中索引从`begin`到`end`的元素，左闭右开，若省略`end`表示截取到末尾 |
     | `toString()`        | 将数组转换成字符串                                           |
   - 多维数组：可以使用嵌套数组定义二维数组
   
5. **函数**  
   - 定义：`function 函数名(参数){...}`
   - 变量作用域：局部变量和全局变量
   - 回调函数：用于事件绑定或作为函数参数
   - 匿名函数：无名字的函数，常用于回调

#### 五、复合类型

1. **String**  
   - 常用属性和方法：

     | 方法            | 描述                                             |
     | --------------- | ------------------------------------------------ |
     | `charAt()`      | 返回在指定索引位置的字符，也可使用`[索引]`的方式 |
     | `indexOf()`     | 返回某个指定的字符串值在字符串中首次出现的位置   |
     | `lastIndexOf()` | 返回某个指定的字符串值在字符串中最后出现的位置   |
     | `toLowerCase()` | 把字符串转化为小写                               |
     | `toUpperCase()` | 把字符串转化为大写                               |
     | `substring()`   | 提取字符串中两个指定的索引号之间的字符           |
     | `replace()`     | 将指定的字符串替换为指定的新的字符串             |
     | `split()`       | 把字符串分割为字符串数组                         |
     | `trim()`        | 去除前后两端的空格                               |
   
2. **Date**  
   - 定义：`var date = new Date();`
   - 常用方法：
   - | 方法名          | 说明                       |
     | --------------- | -------------------------- |
     | `getFullYear()` | 以四位数字返回年份         |
     | `getMonth()`    | 返回月份(0~11)，0表示1月   |
     | `getDate()`     | 返回一个月中的某一天(1~31) |
     | `getHours()`    | 返回小时 (0 ~ 23)          |
     | `getMinutes()`  | 返回分钟 (0 ~ 59)          |
     | `getSeconds()`  | 返回秒数 (0 ~ 59)          |
   
3. **JSON**  
   - 基本用法：JSON对象结构由键值对构成，使用`JSON.parse()`和`JSON.stringify()`进行转换

4. **对象类型**  
   - 创建对象的三种方式：`Object()`构造函数、自定义构造函数、对象字面量

#### 六、DOM 操作

1. **DOM 简介**  
   - DOM（文档对象模型）将HTML文档解析为树状结构，通过JavaScript可以对其进行动态操作
   - ![image-20241110212957458](https://cdn.jsdelivr.net/gh/wwwqqqzzz/Image/img/image-20241110212957458.png)
   
2. **查询操作**  
   - 通过`document.getElementById()`、`document.getElementsByTagName()`等方法获取DOM对象

   - | 方法或属性                                 | 含义                                       |
     | ------------------------------------------ | ------------------------------------------ |
     | `document.getElementById("id值")`          | 根据id属性来查询节点，返回匹配的第一个节点 |
     | `document.getElementsByName("name属性值")` | 根据name属性来查询，返回所有匹配的节点集合 |
     | `document.getElementsByTagName("标签名")`  | 根据标签名来查询，返回所有匹配的节点集合   |
     | `parentNode`属性                           | 查询当前节点的父节点                       |
     | `previousSibling`属性                      | 查询当前节点的上一个节点                   |
     | `nextElementSibling`属性                   | 查询当前节点的下一个节点                   |
     | `firstElementChild`属性                    | 查询当前节点的第一个子节点                 |
     | `lastElementChild`属性                     | 查询当前节点的最后一个子节点               |
   
3. **访问操作**  
   
   - 属性、内容、样式的访问与设置
   
4. **添加操作**  
   
   - 创建元素并使用`appendChild()`添加到DOM树中
   
   - | 方法                               | 含义                                                        |
     | ---------------------------------- | ----------------------------------------------------------- |
     | `document.createElement("标签名")` | 创建一个元素节点，即标签                                    |
     | `node.appendChild(newNode)`        | 将一个新的节点`newNode`添加到指定的节点`node`中子节点的末尾 |
   
5. **删除操作**  
   
   - 使用`remove()`删除节点
   
   - | 方法            | 含义         |
     | --------------- | ------------ |
     | `node.remove()` | 删除当前节点 |

#### 七、事件处理

1. **事件的定义**  
   - 事件：用户或浏览器行为（如点击、悬停、页面加载等）
   - 事件监听：绑定事件函数（即回调函数）来响应事件

2. **绑定事件方式**  
   - 静态绑定：如`<input onclick="fn()">`
   - 动态绑定：如`btn.onclick = function(){...}`

3. **常用事件**  
   - 鼠标事件：
   - | 事件名        | 描述               |
     | ------------- | ------------------ |
     | `onclick`     | 鼠标单击           |
     | `ondblclick`  | 鼠标双击           |
     | `onmouseover` | 鼠标移到某元素之上 |
     | `onmouseout`  | 鼠标从某元素上移开 |
   - 键盘事件：
   - | 事件名       | 描述                       |
     | ------------ | -------------------------- |
     | `onkeydown`  | 某个键盘的键被按下去       |
     | `onkeyup`    | 某个键盘的键被松开         |
     | `onkeypress` | 某个键盘的键被按下去且松开 |
   - 表单事件：
   - | 事件名     | 描述                                                         |
     | ---------- | ------------------------------------------------------------ |
     | `onfocus`  | 元素获得焦点                                                 |
     | `onblur`   | 元素失去焦点                                                 |
     | `onchange` | 域的内容发生改变，一般用于文件选择器和下拉列表               |
     | `onselect` | 文本内容被选中                                               |
     | `onsubmit` | 表单提交前触发，回调函数返回true表示允许表单提交，返回false表示阻止表单提交 |

#### 八、window 和 location 对象

1. **window 对象**  
   - 顶层对象，包含浏览器窗口的所有属性和方法

   - | 方法名                   | 含义                                                         |
     | ------------------------ | ------------------------------------------------------------ |
     | `alert(text)`            | 显示一个带有提示信息和确定按钮的警告框                       |
     | `prompt(text)`           | 显示一个带有提示信息、文本输入框、确定和取消按钮的输入框，返回值为输入的数据 |
     | `confirm(text)`          | 显示一个带有提示信息、确定和取消按钮的确认框，确定返回true，取消返回false |
     | `setTimeout(fn, delay)`  | 设置一次性定时器，在指定毫秒值后执行某个函数                 |
     | `setInterval(fn, delay)` | 设置周期性定时器，周期性循环执行某个函数                     |
     | `clearTimeout(timer)`    | 清除一次性定时器                                             |
     | `clearInterval(timer)`   | 清除周期性定时器                                             |
   
     | 事件名     | 描述           |
     | ---------- | -------------- |
     | `onload`   | 页面加载完成   |
     | `onscroll` | 窗口滚动条滑动 |
     | `onclick`  | 鼠标单击       |
   
2. **location 对象**  
   - 常用属性： href 设置或返回地址栏中的url  
   -  常用方法： reload()   重新加载当前页